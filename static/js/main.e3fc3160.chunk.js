(this["webpackJsonpsmash-tool"]=this["webpackJsonpsmash-tool"]||[]).push([[0],{62:function(e,t,n){},63:function(e,t,n){},71:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(8),s=n.n(a),o=(n(62),n(11)),i=(n(63),n(43)),l=n.n(i),j=n(48),d=n(25),u=n(119),O=n(123),b=n(122),h=n(117),f=n(120),g=n(121),x=n(73),p=n(114);function S(e,t,n,c){return{OosForward:e,ShieldsLagframes:t,Move:n,OosBack:c}}var v=[S("",0,"","")];var m=function(e,t,n,c){if(function(e){for(var t=0;t<e;t++)v[t]=S("",t,"","");v[0].ShieldsLagframes+="\u4ee5\u4e0b",v[v.length-1].ShieldsLagframes+="\u4ee5\u4e0a"}(c),t in e.ShieldsLag){var r=e.ShieldsLag[t].ShieldsLag;console.log("attacker",t,r),Object.keys(r).forEach((function(e){return t=r[e],n=e,void(""!==t&&"-"!==t&&(t in v?v[t].Move+=n+" ":(t<=0&&(v[0].Move+=n+" "),t>=v.length&&(v[v.length-1].Move+=n+" "))));var t,n}))}if(n in e.OutOfShieldStartup){var a=e.OutOfShieldStartup[n].OosStartup;console.log("defencer",n,a),Object.keys(a).forEach((function(e){var t,n;t=a[e].back,n=e,""!==t&&"-"!==t&&(t in v?v[t].OosBack+=n+" ":(t<=0&&(v[0].OosBack+=n+" "),t>=v.length&&(v[v.length-1].OosBack+=n+" "))),function(e,t){""!==e&&"-"!==e&&(e in v?v[e].OosForward+=t+" ":(e<=0&&(v[0].OosForward+=t+" "),e>=v.length&&(v[v.length-1].OosForward+=t+" ")))}(a[e].forward,e)}))}return v},k=n(3),L=Object(p.a)((function(e){return{table:{textAlign:"center",stickyHeader:!0},tableHeader:{stickyHeader:!0},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}}})),y=function(e,t){switch(console.log("dataFetchReducer",e,t.type),t.type){case"FETCH_INIT":return Object(d.a)(Object(d.a)({},e),{},{isLoading:!0,isError:!1});case"FETCH_SUCCESS":return Object(d.a)(Object(d.a)({},e),{},{isLoading:!1,isError:!1,data:t.payload});case"FETCH_FAILURE":return Object(d.a)(Object(d.a)({},e),{},{isLoading:!1,isError:!0});default:throw new Error}};function w(e){console.log("PunishmentList",e);var t,n,c,r,a=L(),s=(t=e.punishment,n=e.attacker,c=e.defencer,r=e.frames,console.log("createPunishment",t,n,c,r),"OutOfShieldStartup"in t&&"ShieldsLag"in t?m(t,n,c,r):[]);return Object(k.jsx)("div",{children:Object(k.jsx)(h.a,{component:x.a,children:Object(k.jsxs)(u.a,{className:a.table,size:"small","aria-label":"a dense table",children:[Object(k.jsxs)(f.a,{className:a.tableHeader,children:[Object(k.jsxs)(g.a,{children:[Object(k.jsx)(b.a,{align:"center",rowSpan:"3",children:"\u786c\u76f4\u5dee(f)"}),Object(k.jsx)(b.a,{align:"center",children:e.attacker}),Object(k.jsx)(b.a,{align:"center",colSpan:"2",children:e.defencer})]}),Object(k.jsxs)(g.a,{children:[Object(k.jsx)(b.a,{align:"center",rowSpan:"2",children:"\u30ac\u30fc\u30c9\u3055\u305b\u308b\u6280"}),Object(k.jsx)(b.a,{align:"center",colSpan:"2",children:"\u30ac\u30fc\u30ad\u30e3\u30f3\u884c\u52d5"})]}),Object(k.jsxs)(g.a,{children:[Object(k.jsx)(b.a,{align:"center",children:"\u524d"}),Object(k.jsx)(b.a,{align:"center",children:"\u5f8c"})]})]}),Object(k.jsx)(O.a,{children:s.map((function(e){return e.OosForward===e.OosBack?Object(k.jsxs)(g.a,{children:[Object(k.jsx)(b.a,{component:"th",scope:"row",align:"center",children:e.ShieldsLagframes}),Object(k.jsx)(b.a,{align:"center",children:e.Move}),Object(k.jsx)(b.a,{align:"center",colSpan:"2",children:e.OosForward})]},e.ShieldsLagframes):Object(k.jsxs)(g.a,{children:[Object(k.jsx)(b.a,{component:"th",scope:"row",align:"center",children:e.ShieldsLagframes}),Object(k.jsx)(b.a,{align:"center",children:e.Move}),Object(k.jsx)(b.a,{align:"center",children:e.OosForward}),Object(k.jsx)(b.a,{align:"center",children:e.OosBack})]},e.ShieldsLagframes)}))})]})})})}function C(e){console.log("LoadJson",e);var t=function(e,t){var n=Object(c.useState)(e),r=Object(o.a)(n,2),a=r[0],s=r[1],i=Object(c.useReducer)(y,{isLoading:!1,isError:!1,data:t}),d=Object(o.a)(i,2),u=d[0],O=d[1];return Object(c.useEffect)((function(){!function(){var e=Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("fetchData",a),O({type:"FETCH_INIT"});try{console.log(a.ShieldsLag),console.log(a.OutOfShieldStartup),Promise.all([fetch(a.ShieldsLag),fetch(a.OutOfShieldStartup)]).then((function(e){var t=Object(o.a)(e,2),n=t[0],c=t[1];return Promise.all([n.json(),c.json()])})).then((function(e){var t=Object(o.a)(e,2),n=t[0],c=t[1];O({type:"FETCH_SUCCESS",payload:{ShieldsLag:n,OutOfShieldStartup:c}})}))}catch(t){O({type:"FETCH_FAILURE"})}case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[a]),[u,s]}(e.loadurls,[]),n=Object(o.a)(t,2),r=n[0],a=r.data,s=r.isLoading,i=r.isError,d=n[1];return Object(c.useEffect)((function(){d(e.loadurls)}),[]),Object(k.jsxs)("div",{children:[i&&Object(k.jsx)("div",{children:"Something went wrong ..."}),s?"Loading ...":(console.log(a),Object(k.jsx)(w,{punishment:a,attacker:e.attacker,defencer:e.defencer,frames:30}))]})}function E(e){console.log("Loadframes");return Object(k.jsx)("div",{children:Object(k.jsx)(C,{loadurls:{ShieldsLag:"json/ShieldsLag.json",OutOfShieldStartup:"json/OutOfShieldStartup.json"},attacker:e.attacker,defencer:e.defencer})})}var F=n(124),T=n(125),N=n(132),B=n(127),H=n(130),I=n(131),M=n(126),P=Object(p.a)((function(e){return{appBar:{top:"auto",bottom:0},formControl:{margin:e.spacing(1),minWidth:120}}}));function _(e){var t=P(),n=Object(c.useState)({}),r=Object(o.a)(n,2),a=r[0],s=r[1],i=Object(c.useState)({}),l=Object(o.a)(i,2),j=l[0],d=l[1],u=Object(c.useState)(!1),O=Object(o.a)(u,2),b=O[0],h=O[1];Object(c.useEffect)((function(){f(s,d)}),[]);var f=function(e,t){console.debug("LoadCharactorList"),fetch("json/CharacterList.json").then((function(e){return e.json()})).then((function(n){var c={},r={};for(var a in n){!0===n[a].property.OutOfSheildStartup&&(c[a]={"No.":n[a]["No."],Fighter:a}),!0===n[a].property.ShieldsLag&&(r[a]={"No.":n[a]["No."],Fighter:a})}t(c),e(r),h(!0),console.log(c,r)}))};return Object(k.jsx)(F.a,{className:t.appBar,children:Object(k.jsx)(T.a,{children:b?e.testmode?Object(k.jsx)(R,{attackerlist:a,defencerlist:j}):Object(k.jsx)(A,{attackerlist:a,defencerlist:j}):Object(k.jsx)("div",{children:"Loading..."})})})}function R(e){var t=Object(c.useContext)(G),n=Object(c.useState)(0),r=Object(o.a)(n,2),a=r[0],s=r[1],i=Object(c.useRef)(a),l=Object(c.useState)(""),j=Object(o.a)(l,2),d=j[0],u=j[1],O=Object(c.useState)(""),b=Object(o.a)(O,2),h=b[0],f=b[1],g=Object(c.useRef)([]),x=Object(c.useRef)([]),p=Object(c.useRef)();return Object(c.useEffect)((function(){i.current=a,console.log("counter:",a)}),[a]),Object(c.useEffect)((function(){console.log("start."),g.current=Object.keys(e.attackerlist),x.current=Object.keys(e.defencerlist),u((new Date).toLocaleString()),p.current=setInterval((function(){var e=i.current+1,n=!1,c=!1,r=Y,a=Y;e<g.current.length?r=g.current[e]:n=!0,e<x.current.length?a=x.current[e]:c=!0,n&&c&&(console.log("finished."),f((new Date).toLocaleString()),clearInterval(p.current)),s(e),t.setter({attacker:r,defencer:a})}),1e3)}),[]),Object(k.jsxs)("div",{children:["CharacterSetforTest",Object(k.jsxs)("p",{children:["attacker = ",g.current[i.current]]}),Object(k.jsxs)("p",{children:["defencer = ",x.current[i.current]]}),Object(k.jsxs)("p",{children:["counter  = ",i.current]}),Object(k.jsxs)("p",{children:["started  = ",d]}),Object(k.jsxs)("p",{children:["finished = ",h]})]})}function A(e){return Object(k.jsxs)(T.a,{children:[Object(k.jsx)(M.a,{item:!0,xs:6,children:Object(k.jsx)(D,{list:e.attackerlist})}),Object(k.jsx)(M.a,{item:!0,xs:6,children:Object(k.jsx)(U,{list:e.defencerlist})})]})}function D(e){console.debug("AttackerSelect");var t=P(),n=Object(c.useContext)(G);return Object(k.jsx)("div",{children:Object(k.jsxs)(B.a,{className:t.formControl,children:[Object(k.jsx)(N.a,{children:"\u30ac\u30fc\u30c9\u3055\u305b\u308b"}),Object(k.jsx)(H.a,{defaultValue:Y,onChange:function(e){n.setter({attacker:e.target.value,defencer:n.state.defencer})},children:Object.keys(e.list).map((function(e){return Object(k.jsx)(I.a,{value:e,children:e},e)}))})]})})}function U(e){console.debug("DefencerSelect");var t=P(),n=Object(c.useContext)(G);return Object(k.jsxs)(B.a,{className:t.formControl,children:[Object(k.jsx)(N.a,{children:"\u30ac\u30fc\u30ad\u30e3\u30f3\u884c\u52d5"}),Object(k.jsx)(H.a,{defaultValue:Y,onChange:function(e){n.setter({attacker:n.state.attacker,defencer:e.target.value})},children:Object.keys(e.list).map((function(e){return Object(k.jsx)(I.a,{value:e,children:e},e)}))})]})}var J=n(54),V=n(129),W=n(40),z=n(128),G=Object(c.createContext)(),Y="\u30de\u30ea\u30aa",q=!1,K=Object(J.a)({palette:{primary:{main:W.a[800]},text:{primary:"#fff"},type:"dark"}});Object(J.a)({palette:{primary:{main:z.a[800]},text:{primary:"#fff"},type:"dark"}});function Q(){return Object(k.jsx)("div",{children:"MyTochikaSmash-tool ver0.1 \u904b\u7528\u524d\u30c6\u30b9\u30c8\u4e2d \u30b9\u30de\u30d6\u30e9SP\u306e\u78ba\u5b9a\u53cd\u6483\u884c\u52d5\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059."})}var X=function(){var e=Object(c.useState)({attacker:Y,defencer:Y}),t=Object(o.a)(e,2),n={state:t[0],setter:t[1]};return console.debug("App"),Object(k.jsx)(V.a,{theme:K,children:Object(k.jsxs)(G.Provider,{value:n,children:[Object(k.jsx)(Q,{}),Object(k.jsx)(E,{attacker:n.state.attacker,defencer:n.state.defencer}),Object(k.jsx)(_,{testmode:q})]})})},Z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,133)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))};window["ga-disable-G-57D75MF8YC"]=!1;var $=function(e){var t=e.name,n=e.delta,c=e.id;window.gtagPageview({name:t,event_category:"Web Vitals",event_label:c,value:Math.round("CLS"===t?1e3*n:n),non_interaction:!0})};s.a.render(Object(k.jsxs)(r.a.StrictMode,{children:[console.debug("index.js"),Object(k.jsx)(X,{})]}),document.getElementById("root")),Z($)}},[[71,1,2]]]);
//# sourceMappingURL=main.e3fc3160.chunk.js.map